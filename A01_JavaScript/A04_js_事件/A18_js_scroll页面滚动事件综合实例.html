<!DOCTYPE html> <!-- 文档声明 html-5 -->
<html lang="zh-CN"> <!-- 设置页面语言  中文简体 -->
<!-- 表头 -->

<head>
  <!--规定 HTML 文档的字符编码  兼用性-->
  <meta charset="UTF-8">
  <!-- 针对IE浏览器的一个兼容性设置-->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!--优先使用 webkit ( Chromium ) 内核进行染，针对36@等壳览器-->
  <meta name="renderer" content="webkit">

  <!-- 让低版本浏览器认识H5 的义化标签 -->
  <!--[if lt ie g]>
       <script src="../resources静态资源/js/html5shiv.min.js"></script>
    <![endif]-->

  <!--< Meta Name=" description（网站内容描述）" Content="网页描述文字"   兼用性>  -->
  <meta name="description" content="网页描述文字">
  <!-- Edge 模式通知 Windows Internet Explorer 以最高级别的可用模式显示内容   兼用性-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>A18_js_scroll页面滚动事件综合实例</title>
  <!-- 设置网站图标调用一个外部的图片文件 -->
  <link rel="shortcut icon" href="../resources静态资源/image/网站图标.ico" type="image/x-icon" />
  <!-- 清除css默认样式 -->
  <link rel="stylesheet" href="../resources静态资源/css/reset.css">
  <!-- 引入css样式 -->
  <!-- <link rel="stylesheet" href=""> -->
  <style>
    .move {
      height: 100px;
      width: 100%;
      background-color: rgba(11, 225, 29, 0.667);
      text-align: center;
      color: chartreuse;
      /* top: -120px; */
      /* 开启相对定位（参考的是自己位置） */
      position: fixed;
      transition: all 1s;
      top: -100px;


    }

    .top {
      height: 120px;
      width: 100%;
      background-color: rgb(89, 42, 165);
      text-align: center;
      color: chartreuse;


    }

    .container {
      height: 3000px;
      background-color: brown;
    }

    .left {
      height: 400px;
      width: 200px;
      border: 1px solid green;
      background-color: darkcyan;
      /* 开启相对定位（参考的是自己位置） */
      position: relative;
      top: 100px;
    }

    .navigation {
      width: 80px;
      background-color: chartreuse;
      /* 开启固定定位（参考的是视图位置） */
      position: fixed;
      /* 固定定位上边50px */
      top: 30%;
      /* 固定定位右边0px */
      right: 0%;
      /*visibility隐藏元素占位  */
      visibility: visible;
      /* 默认透明度 */
      opacity: 0;
      /* 过渡：可见性1s，不透明度1s； */
      transition: visibility 1s, opacity 1s;

    }
  </style>

  <!-- 处理页面加载顺序（上→下）所以javascript通常反正下面   不能和外部引入一起使用-->
  <script type="text/javascript">
    // 在页面加载完毕后才会执行的代码(加载外部资源(如图片、外联CSS和JavaScript等)加载完毕时触发的事件)
    window.addEventListener('load', function () {
      //通过查询选择器获取元素
      const navigationElement = document.querySelector('.navigation');
      //通过查询选择器获取元素
      const containerElement = document.querySelector('.container');
      // 浏览器window对象添加滚动事件 
      window.addEventListener(`scroll`, function () {
        //获取html页面并获取被卷去的头部（可以获取值也可以赋值）
        let num = document.documentElement.scrollTop;

        //offsetTop获取子元素在父元素中的位置（祖先元素要有定位，不然一直查找到祖先元素，计算的是子元素边框到父元素的内边框的位置）
        let offsetTop = containerElement.offsetTop;
        //下面代码是处理（右边处理导航条的事件）
        // if (num >= offsetTop) {
        //   //设置透明度（不透明）
        //   navigationElement.style.opacity = 1;
        // }
        // else {
        //   //设置透明度（透明）
        //   navigationElement.style.opacity = 0;
        // }
        //三元表达式
        navigationElement.style.opacity = num >= offsetTop ? 1 : 0;
        //下面代码是处理（顶部导航条的事件）
        //通过查询选择器获取元素
        const leftElement = document.querySelector('.left');
        const leftoffsetTop = leftElement.offsetTop;
        const moveElement = document.querySelector('.move');
        // if (num >= leftoffsetTop) {
        //   moveElement.style.top = '0px';
        // }else{
        //   moveElement.style.top = '-100px';
        // }
         //三元表达式
         moveElement.style.top= num >= leftoffsetTop ? '0px' : '-100px';

   })
      //通过查询选择器获取元素（右边处理导航条的返回顶部事件）
      const lastliElement = document.querySelector('.navigation ul>li:last-of-type');
      lastliElement.addEventListener('click', function () {
        // document.documentElement.scrollTop=0
        //通过 window函数赋值(X轴,Y轴)
        window.scroll(0, 0)
      })

    })






  </script>
  
</head>

<body>
  <!-- 顶部导航条 -->
  <div class="move">顶部上下移动条</div>
  <div class="top">顶部导航条</div>
  <div class="container">
    <div class="left">当滚动条移动到这里顶部上下移动条就会出现</div>
    <div class="navigation">
      <ul>
        <li>京东秒杀</li>
        <li>频道广场</li>
        <li>为你推荐</li>
        <li>返回顶部</li>
      </ul>
    </div>

  </div>
</body>

</html>