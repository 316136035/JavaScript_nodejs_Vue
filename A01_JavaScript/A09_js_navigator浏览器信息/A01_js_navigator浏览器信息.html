<!DOCTYPE html> <!-- 文档声明 html-5 -->
<html lang="zh-CN"> <!-- 设置页面语言  中文简体 -->
<!-- 表头 -->

<head>
  <!--规定 HTML 文档的字符编码  兼用性-->
  <meta charset="UTF-8">
  <!-- 针对IE浏览器的一个兼容性设置-->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!--优先使用 webkit ( Chromium ) 内核进行染，针对36@等壳览器-->
  <meta name="renderer" content="webkit">

  <!-- 让低版本浏览器认识H5 的语义化标签 -->
  <!--[if lt ie g]>
       <script src="../resources静态资源/js/html5shiv.min.js"></script>
    <![endif]-->

  <!--< Meta Name=" description（网站内容描述）" Content="网页描述文字"   兼用性>  -->
  <meta name="description" content="网页描述文字">
  <!-- Edge 模式通知 Windows Internet Explorer 以最高级别的可用模式显示内容   兼用性-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- 头标题 -->
  <title>A02_ 支付成功自动跳转案例</title>
  <!-- 设置网站图标调用一个外部的图片文件 -->
  <link rel="shortcut icon" href="../resources静态资源/img/favicon.ico" type="image/x-icon" />
  <!-- 调用一个外部的CSS样式文件 -->
  <link rel="stylesheet" href="#">
</head>

<body>


  <!-- 处理页面加载顺序（上→下）所以javascript通常反正下面   不能和外部引入一起使用-->
  <script type="text/javascript">
    // 在页面加载完毕后才会执行的代码
    window.onload = function () {

      // 检测 userAgent (浏览器信息)!(function ()
      const userAgent = navigator.userAgent
      !(function () {
        const userAgent = navigator.userAgent
        // 验证是否为Android或iPhone
        const android = userAgent.match(/(Android);?[\s /]+([\d.]+)?/)
        const iphone = userAgent.match(/(iphone sos) s([ d ]+)/)
        // 如果是Android或Phone.则涨转至移动站点
        if (android || iphone)
          location.href = 'http://m.itcast .cn';
      })()
      //获取浏览器信息
      console.log(navigator.userAgent);

      // 创建一个假的浏览器对象
      var fakeBrowser = {
        "device_type": "iPhone",
        "os_name": "iOS",
        "os_version": "16.6",
        "os_build": "15E148",
        "browser_name": "Safari",
        "browser_version": "16.6",
        "user_agent": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
      }

      // 替换原生的浏览器对象
      window.navigator = fakeBrowser;

      document.querySelector('.ajax').addEventListener('click', function () {

        // 使用 XMLHttpRequest 发送请求
        const xhr = new XMLHttpRequest();
        xhr.open('POST', 'https://www.example.com/api/data');
        xhr.setRequestHeader('Content-Type', 'application/json');
        xhr.onload = function () {
          if (xhr.status === 200) {
            console.log(xhr.responseText);
          } else {
            console.error('请求失败');
          }
        };
        xhr.send(JSON.stringify({ message: 'Hello World' }));



      })
    }

  </script>
  <div class="container">
    <div class="show">
      <button class="ajax">发送请求</button>

    </div>
  </div>


</body>

</html>